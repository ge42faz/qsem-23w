\documentclass {article}

\usepackage {amsmath}
\usepackage {amssymb}

\DeclareMathOperator* {\argmin} {argmin}
\newcommand {\qvec}[1] {\vert #1 \rangle}
\newcommand {\qcovec}[1] {\langle #1 \vert}
\newcommand {\qeval}[1] {\langle #1 \rangle}


\title {
	Seminar: Advanced Topics in \\
	Quantum Computing \\
	On efficient encodings for quantum \\
	solutions to vehicle routing problems
}
\author {Eben Jowie Haezer}
\date {\today}

\begin {document}
\maketitle

\begin {abstract}
This report details recent advances in the optimisation of computing resources
for quantum approaches to solving the vehicle routing problem (VRP) and 
its variants. This set of problems is of significant importance with regard
to logistical applications in industry. In accordance with the input
constraints of the quantum hardware, the problem is formulated as a quadratic
unconstrained binary optimisation (QUBO). A simple approach known as the
full encoding results in each solution represented by a unique basis state,
thereby requiring one qubit per classical variable. Due to this inefficiency
in resource allocation when considering the at worst factorial search space,
a more optimised minimal encoding is suggested that offers a logarithmic
reduction in necessary computing power. In spite of certain drawbacks incurred
by employing this minimal encoding, experiments have shown that the solution
quality is not heavily impacted.
\end {abstract}

% structure:
%
% i.	introduction
% ii.	vrp
% iii.	qubo
% iv.	encoding schemes
% v.	discussion
% vi.	conclusion
% vii.	appendix

\section {Introduction}
The Vehicle Routing Problem (VRP) is concerned with finding optimal routes
for vehicles to deliver goods to a set of customers with some geographical
distance between them. It is obvious that this type of problem has far
reaching practical applications in various contexts, in fact the need to find
a reasonable solution is almost ubiquitous when dealing with logistical
planning, for example to determine efficient road, rail, shipping, and air
routes for commercial or public interest.

VRP, being itself a more general version of the Travelling Salesman Problem
(TSP), is similarly an NP hard combinatorial optimisation problem with a
solution space scaling factorially in the number of customers, and thus
finding the definitive optimal solution already becomes intractable at
two digit customer counts. The most optimal classical algorithms known to date
and used in practice employ heuristics and greedy methods to construct routes
within single digit percentage tolerances.

More recently, the noisy intermediate scale quantum (NISQ) era has paved
the way for the development of variational quantum algorithms alongside the
potent quantum annealing method as a contender for computing reliable and
near optimal solutions to combinatorial optimisation problems, exploiting
the unique inherent property of quantum algorithms to operate on the
entire solution space at once, albeit incrementally and probabilistically.

Initial tests have shown some promise in applying these quantum algorithms
to the VRP against classical solvers, achieving comparable accuracy on
small problem instances. As quantum hardware continues to improve, it makes
sense to also look at utilising it as efficiently as possible. Solving VRP
naively using quantum methods maps one classical variable to one whole qubit,
quickly exhausting the already limited computing resources when introducing
additional constraints such as vehicle capacity or time windows on larger
problem scales more commonly encountered in practical scenarios.

This report discusses recent research into an idea to mitigate this
uneconomical use of computing power through a more clever and refined 
encoding of the input problem, in order to achieve a logarithmic correlation
between problem size and resource consumption.
Section II outlines a formal description of the VRP and some of its variants.
Section III explains the QUBO and its application to solving the VRP on
quantum hardware, along with a brief mention of the closely related
Ising model and in particular its Hamiltonian function.
Section IV details the encoding approaches onto the quantum system and lists
benefits and drawbacks for each.
Published experimental observations describing the impact of the encodings
are discussed in Section V,
and the report concludes in Section VI.

\section {Vehicle Routing Problem}
The vehicle routing problem (VRP) is a generalisation of the perhaps more
well known NP hard Travelling Salesman Problem (TSP). VRP seeks the optimal
route or routes for a number of vehicles to traverse in order to deliver
certain goods to customers in various locations.

The problem is modelled intuitively by a graph $G = (V, E)$
where each node or vertex $v_i \in V$ represents the location of a customer 
and each edge $(i, j) \in E$ connecting two vertices corresponds to a path
traversible by a delivery vehicle. $\lVert V \rVert = N$ is then the number
of customers considered. Traversing an edge $(i, j)$ typically incurs
a cost represented by $c_{ij} \in \mathbb R_{\ge 0}$, of which the total
value summed up across the entire journey is to be optimised, ie. made as
small as possible. This cost may be set based on travel time, distance,
or other concerns with economic consequences.

Vehicles may only travel across edges. Furthermore, each graph contains a
designated node $v_0 \in V$ known as the depot. Valid routes must always
begin and end at the depot. A valid route is then a tuple
$(v_n, v_{n+1}, ..., v_m)$ s.t.
$v_n = v_m = v_0 \; \land \; \forall n. \; (v_n, v_{n+1}) \in E$

For a problem to be classified as VRP, it should fulfil at least the above
minimal constraints. However, additional constraints may be imposed as
needed to better reflect a practical use case at the expense of slightly
complicating the model. For example, the capacitated VRP or CVRP stipulates
a fixed upper bound on the carrying capacity of each vehicle leaving the
depot, where in most cases this value is consistent across all vehicles.
Customers $v_i$ are then assigned a score $d_i \in \mathbb R_{\ge 0}$ 
reflecting their demand quantity. This introduces the complication of
optimising for capacity and demand as well as edge cost, and the ideal
solution for a given graph will most likely differ from the simple VRP.

On the other hand, the VRP with time windows (VRPTW) introduces a secondary
time parameter. Customers $v_i$ are assigned a certain time window
$[t_i^0, t_i^f] \subseteq \mathbb R_{\ge 0}$ in which they expect a delivery.
For the depot $v_0$ this interval is $[0, \infty)$ for simplicity. Hence the
edge costs $c_{ij}$ represent travel time between two nodes in this
formulation, and the objective shifts to finding the optimal route that
serves all customers whilst respecting these time windows, or failing this
attempting to maximise the number of customers or total goods supplied.

\section {Problem Formulation}
The quadratic unconstrained binary optimisation (QUBO) is concerned with
finding a binary vector $\qvec{x^*} \in \{0, 1\}^n$, $n \in \mathbb N$ that
fulfils the following optimal condition:
\begin {equation}
\qvec{x^*} = \argmin_{\qvec{x} \in \{0, 1\}^n} \; \qcovec{x} Q \qvec{x}
\end {equation}
where the linear operator $Q \in \mathbb R^{n \times n}$ is a symmetric
matrix. This can be interpreted as an objective function:
\begin {equation}
f_Q(x) = \qcovec{x} Q \qvec{x} =
\sum_{i = 1}^n \sum_{j = i}^n Q_{ij} x_i x_j
\end {equation}

In general, QUBO is also NP hard due to the exponential scaling of the
solution space in $\lVert \{0, 1\}^n \rVert \in \mathcal{O}(2^n)$ with respect
to the number of dimensions $n$. Many combinatorial optimisation problems have
conversions into QUBO, not least the VRP and its variants. These conversions
are useful to establish a uniform problem description for solvers to work with,
however in the context of quantum solvers, they are further motivated by the 
equivalence between QUBO and the Hamiltonian of the Ising model for
ferromagnetism in particle physics.

The Ising model describes a lattice structure $\Lambda$ in which each lattice
site houses a particle. The spin of each particle is represented by a discrete
variable $\sigma_i \in \{-1, 1\}$, $i \in \Lambda$. This spin value governs the
local magnetic moment of the particle according to the shell model (appendix).
Neighbouring lattice sites $\qeval{i\;j}. \; i, j \in \Lambda$ influence each
other, termed nearest neighbour interactions, whose interaction strength is
represented by $J_{ij} \in \mathbb R$. Furthermore, one may consider the
influence of an external field $h_i$ at site $i \in \Lambda$, such that the
spin wants to align with this field.

Thus the Hamiltonian reads:
\begin {equation}
H = - \sum_{\qeval{i\;j}} J_{ij} \sigma_i \sigma_j - \mu \sum_{i} h_i \sigma_i
\end {equation}
where $\mu$ is the magnetic moment.

\begin {equation}
H = - \sum_{\qeval{i\;j}} J_{ij} \sigma_i^z \sigma_j^z
- \mu \sum_{i} h_i \sigma_i^x
\end {equation}

Through the reversible transformation $\sigma \mapsto 2x - 1$ one
obtains the equivalent QUBO formulation for free, and hence optimising the
Ising Hamiltonian is equivalent to optimising the QUBO objective function.


\section {Encoding Approaches}

\section {Discussion}

\section {Conclusion}

\section {Appendix}

\end {document}

